#!/bin/bash
#BSUB -g LSF_g
#BSUB -G LSF_G
#BSUB -a 'docker(zavolab/bedgraphtobigwig:4)'
#BSUB -J bigwig_nanopore
#BSUB -q general
#BSUB -n 1
#BSUB -M 4000000
#BSUB -W 60
#BSUB -o LSF_LOG_PATH/bigwig_nanopore.%J.out.txt
#BSUB -e LSF_LOG_PATH/bigwig_nanopore.%J.err.txt

source LSF_SCRIPT_PATH/config.sh

sort -k1,1 -k2,2n ${RESULTS_PATH}/${DATA_NAME}.bg > ${RESULTS_PATH}/${DATA_NAME}_sorted.bg 
bedGraphToBigWig ${RESULTS_PATH}/${DATA_NAME}_sorted.bg $CHROMSIZE ${RESULTS_PATH}/${DATA_NAME}.bw